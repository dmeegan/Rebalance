(this.webpackJsonprebalance=this.webpackJsonprebalance||[]).push([[0],{21:function(e,t,a){e.exports=a(32)},26:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(18),c=a.n(l),o=(a(26),a(14)),u=a(6),s=a(7),i=a(9),d=a(8),m=a(36),p=a(20),h=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.stock,t=e.id,a=e.symbol,r=e.name,l=e.currentPrice,c=e.quantity,o=e.marketValue,u=e.currentPercentage,s=e.targetPercentage,i=e.targetValue,d=e.addedValue,h=e.sellOrPurchase,g=e.costOrValue;return n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement(m.a,{variant:"primary",type:"button",className:"removeStockButton",onClick:this.props.delStock.bind(this,t)},"Remove")),n.a.createElement("td",null,a),n.a.createElement("td",null,r),n.a.createElement("td",null,n.a.createElement(p.a,{type:"number",min:"0",className:"table input",value:c,onChange:this.props.getQuantity.bind(this,t)})),n.a.createElement("td",null,l),n.a.createElement("td",null,o),n.a.createElement("td",null,u),n.a.createElement("td",null,n.a.createElement(p.a,{type:"number",min:"0",max:"100",className:"input",step:"0.01",id:"targetPercentageInput",value:s,onChange:this.props.handleTargetPercentageInput.bind(this,t)})),n.a.createElement("td",null,i),n.a.createElement("td",null,d),n.a.createElement("td",null,h),n.a.createElement("td",null,g))}}]),a}(r.Component),g=a(33),f=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return this.props.portfolio.length>0?n.a.createElement("div",null,n.a.createElement(g.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"}),n.a.createElement("th",{scope:"col"},"Symbol"),n.a.createElement("th",{scope:"col"},"Stock Name"),n.a.createElement("th",{scope:"col"},"Quantity"),n.a.createElement("th",{scope:"col"},"Current Price"),n.a.createElement("th",{scope:"col"},"Market Value"),n.a.createElement("th",{scope:"col"},"Current Percentage"),n.a.createElement("th",{scope:"col"},"Target Percentage"),n.a.createElement("th",{scope:"col"},"Target Value"),n.a.createElement("th",{scope:"col"},"Added Value"),n.a.createElement("th",{scope:"col"},"Sell or Purchase"),n.a.createElement("th",{scope:"col"},"Cost or Value"))),n.a.createElement("tbody",null,this.props.portfolio.map((function(t){return n.a.createElement(h,{key:t.id,getQuantity:e.props.getQuantity,delStock:e.props.delStock,totalAssets:e.props.totalAssets,stock:t,calculateMarketValue:e.props.calculateMarketValue,calculateTotalAssets:e.props.calculateTotalAssets,calculateCurrentPercentage:e.props.calculateCurrentPercentage,handleTargetPercentageInput:e.props.handleTargetPercentageInput,calculateTargetValue:e.props.calculateTargetValue,calculateSellOrPurchase:e.props.calculateSellOrPurchase})}))),n.a.createElement("tfoot",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Total"),n.a.createElement("td",null),n.a.createElement("td",null),n.a.createElement("td",null),n.a.createElement("td",null),n.a.createElement("td",null,this.props.totalAssets),n.a.createElement("td",null),n.a.createElement("td",null),n.a.createElement("td",null),n.a.createElement("td",null),n.a.createElement("td",null),n.a.createElement("td",null))))):null}}]),a}(r.Component),E=a(35),P=a(34),y=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).state={userSymbolInput:""},e.handleUserInput=function(t){e.setState({userSymbolInput:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.addStock(e.state.userSymbolInput.replace(" ","")),e.setState({userSymbolInput:""})},e}return Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement(E.a,{className:"addStockForm",onSubmit:this.handleSubmit},n.a.createElement(P.a,null,n.a.createElement(P.a.Prepend,null,n.a.createElement(m.a,{variant:"outline-secondary",type:"submit"},"Add Stock")),n.a.createElement(p.a,{placeholder:"AMZN...",required:!0,onSubmit:this.handleSubmit,type:"text",value:this.state.userSymbolInput,onChange:this.handleUserInput})))}}]),a}(r.Component),k=(a(30),a(31),function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).state={totalAssets:"",portfolio:[]},e.addStock=function(t){var a={},r=e.state.portfolio.length+1,n="https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=".concat(t,"&apikey=").concat("WTIDRPP8PEFL74TS");fetch(n).then((function(e){return e.json()})).then((function(e){return e.bestMatches[0]})).then((function(t){var n="https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=".concat(t["1. symbol"],"&interval=5min&apikey=").concat("WTIDRPP8PEFL74TS","&outputsize=compact");fetch(n).then((function(e){return e.json()})).then((function(e){return+e["Global Quote"]["05. price"]})).then((function(n){a={id:r,symbol:t["1. symbol"],name:t["2. name"],currentPrice:n.toFixed(2),quantity:"",marketValue:"",currentPercentage:"",targetPercentage:"",targetValue:"",addedValue:"",sellOrPurchase:"",costOrValue:""},e.setState({portfolio:[].concat(Object(o.a)(e.state.portfolio),[a])})})).catch((function(){return alert("Error: Either your search term was invalid, or the request to add a stock was too frequent. Please try again.")}))})).catch((function(){return alert("Error: Either your search term was invalid, or the request to add a stock was too frequent. Please try again.")}))},e.delStock=function(t){var a=0;e.setState({totalAssets:e.state.totalAssets-e.state.portfolio.find((function(e){return e.id===t})).marketValue,portfolio:Object(o.a)(e.state.portfolio.filter((function(e){return e.id!==t}))).map((function(e){return e.id!==t&&(a+=e.marketValue,e.currentPercentage=(e.marketValue/a*100).toFixed(2)),e}))})},e.getQuantity=function(t,a){var r=0,n=+a.target.value;n<0&&(n=0),e.setState({totalAssets:""}),e.setState({portfolio:e.state.portfolio.map((function(a){return a.id===t&&(a.quantity=+n,a.marketValue=(a.quantity*a.currentPrice).toFixed(2),a.targetValue=(a.targetPercentage/100*e.state.totalAssets).toFixed(2),a.addedValue=+(a.targetValue-a.marketValue).toFixed(2),a.sellOrPurchase=Math.floor((a.targetValue-a.marketValue)/+a.currentPrice),a.costOrValue=(-1*a.sellOrPurchase*a.currentPrice).toFixed(2)),r+=+a.marketValue,e.state.portfolio.map((function(t){t.currentPercentage=+(+t.marketValue/r*100).toFixed(2)||0,t.targetValue=(t.targetPercentage/100*e.state.totalAssets).toFixed(2),t.addedValue=+(t.targetValue-t.marketValue).toFixed(2),t.sellOrPurchase=Math.floor((t.targetValue-t.marketValue)/+t.currentPrice),t.costOrValue=(-1*t.sellOrPurchase*t.currentPrice).toFixed(2)})),a})),totalAssets:r.toFixed(2)})},e.handleTargetPercentageInput=function(t,a){var r=+a.target.value;r>100?r=100:r<0&&(r=0),e.setState({portfolio:e.state.portfolio.map((function(a){return a.id===t&&(a.targetPercentage=r,a.targetValue=(a.targetPercentage/100*e.state.totalAssets).toFixed(2),a.addedValue=+(a.targetValue-a.marketValue).toFixed(2),a.sellOrPurchase=Math.floor((a.targetValue-a.marketValue)/+a.currentPrice),a.costOrValue=(-1*a.sellOrPurchase*a.currentPrice).toFixed(2)),a}))})},e}return Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(y,{addStock:this.addStock}),n.a.createElement(f,{getQuantity:this.getQuantity,delStock:this.delStock,totalAssets:this.state.totalAssets,portfolio:this.state.portfolio,calculateMarketValue:this.calculateMarketValue,calculateTotalAssets:this.calculateTotalAssets,calculateCurrentPercentage:this.calculateCurrentPercentage,handleTargetPercentageInput:this.handleTargetPercentageInput,calculateTargetValue:this.calculateTargetValue,calculateSellOrPurchase:this.calculateSellOrPurchase}))}}]),a}(n.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.2b302131.chunk.js.map