(this.webpackJsonprebalance=this.webpackJsonprebalance||[]).push([[0],{21:function(e,t,a){e.exports=a(32)},26:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),o=a.n(s),l=(a(26),a(20)),c=a(6),u=a(7),i=a(9),d=a(8),p=a(36),h=a(19),m=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.stock,t=e.id,a=e.symbol,n=e.name,s=e.currentPrice,o=e.quantity,l=e.targetPercentage,c=this.props,u=c.currentTotalAssets,i=c.delStock,d=c.getQuantity,m=c.newTotalAssets,f=(s*o).toFixed(2),E=u>0?(f/u*100).toFixed(2):0,b=m>0?(l/100*m).toFixed(2):0,A=m>0?(b-f).toFixed(2):0,y=A>0?Math.floor(A/s):Math.ceil(A/s),g=(y*s).toFixed(2);return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(p.a,{variant:"primary",type:"button",className:"removeStockButton",onClick:i.bind(this,t)},"Remove")),r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,r.a.createElement(h.a,{type:"number",min:"0",className:"table input",value:o,onChange:d.bind(this,t)})),r.a.createElement("td",null,s),r.a.createElement("td",null,f),r.a.createElement("td",null,E),r.a.createElement("td",null,r.a.createElement(h.a,{type:"number",min:"0",max:"100",className:"input",step:"0.01",id:"targetPercentageInput",value:l,onChange:this.props.handleTargetPercentageInput.bind(this,t)})),r.a.createElement("td",null,b),r.a.createElement("td",null,A),r.a.createElement("td",null,y),r.a.createElement("td",null,g))}}]),a}(n.Component),f=a(33),E=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2"},"Current Total Assets"),r.a.createElement("td",{colSpan:"10"},this.props.currentTotalAssets))}}]),a}(n.Component),b=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2"},"Added Assets"),r.a.createElement("td",{colSpan:"10"},r.a.createElement(h.a,{type:"number",min:"0",className:"table input",id:"addedAssetsInput",value:this.props.addedAssets,onChange:this.props.handleAddedAssetsInput.bind(this)})))}}]),a}(n.Component),A=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2"},"New Total Assets"),r.a.createElement("td",{colSpan:"10"},this.props.newTotalAssets))}}]),a}(n.Component),y=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return this.props.portfolio.length>0?r.a.createElement("div",null,r.a.createElement(f.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"}),r.a.createElement("th",{scope:"col"},"Symbol"),r.a.createElement("th",{scope:"col"},"Stock Name"),r.a.createElement("th",{scope:"col"},"Quantity"),r.a.createElement("th",{scope:"col"},"Current Price"),r.a.createElement("th",{scope:"col"},"Market Value"),r.a.createElement("th",{scope:"col"},"Current Percentage"),r.a.createElement("th",{scope:"col"},"Target Percentage"),r.a.createElement("th",{scope:"col"},"Target Value"),r.a.createElement("th",{scope:"col"},"Added Value"),r.a.createElement("th",{scope:"col"},"Sell or Purchase"),r.a.createElement("th",{scope:"col"},"Cost or Value"))),r.a.createElement("tbody",null,this.props.portfolio.map((function(t){return r.a.createElement(m,{key:t.id,getQuantity:e.props.getQuantity,delStock:e.props.delStock,currentTotalAssets:e.props.currentTotalAssets,newTotalAssets:e.props.newTotalAssets,stock:t,handleTargetPercentageInput:e.props.handleTargetPercentageInput})})),r.a.createElement(E,{currentTotalAssets:this.props.currentTotalAssets}),r.a.createElement(b,{addedAssets:this.props.addedAssets,handleAddedAssetsInput:this.props.handleAddedAssetsInput}),r.a.createElement(A,{newTotalAssets:this.props.newTotalAssets})))):null}}]),a}(n.Component),g=a(35),v=a(34),S=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={userSymbolInput:""},e.handleUserInput=function(t){e.setState({userSymbolInput:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.addStock(e.state.userSymbolInput.replace(" ","")),e.setState({userSymbolInput:""})},e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(g.a,{className:"addStockForm",onSubmit:this.handleSubmit},r.a.createElement(v.a,null,r.a.createElement(v.a.Prepend,null,r.a.createElement(p.a,{variant:"outline-secondary",type:"submit"},"Add Stock")),r.a.createElement(h.a,{placeholder:"AMZN...",required:!0,onSubmit:this.handleSubmit,type:"text",value:this.state.userSymbolInput,onChange:this.handleUserInput})))}}]),a}(n.Component),T=(a(30),a(31),function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={currentTotalAssets:0,portfolio:[],addedAssets:0,newTotalAssets:0},e.addStock=function(t){var a={},n=e.state.portfolio.length+1,r="https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=".concat(t,"&apikey=").concat("WTIDRPP8PEFL74TS");fetch(r).then((function(e){return e.json()})).then((function(e){return e.bestMatches[0]})).then((function(t){var r="https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=".concat(t["1. symbol"],"&interval=5min&apikey=").concat("WTIDRPP8PEFL74TS","&outputsize=compact");fetch(r).then((function(e){return e.json()})).then((function(e){return+e["Global Quote"]["05. price"]})).then((function(r){a={id:n,symbol:t["1. symbol"],name:t["2. name"],currentPrice:r.toFixed(2),quantity:"",targetPercentage:""},e.setState({portfolio:[].concat(Object(l.a)(e.state.portfolio),[a])})})).catch((function(){return alert("Error: Either your search term was invalid, or the request to add a stock was too frequent. Please try again.")}))})).catch((function(){return alert("Error: Either your search term was invalid, or the request to add a stock was too frequent. Please try again.")}))},e.delStock=function(t){var a=e.state.portfolio.find((function(e){return e.id===t})),n=(a.currentPrice*a.quantity).toFixed(2);e.setState({currentTotalAssets:e.state.currentTotalAssets-n,newTotalAssets:e.state.newTotalAssets-n,portfolio:e.state.portfolio.filter((function(e){return e.id!==t}))})},e.getQuantity=function(t,a){var n=0,r=+a.target.value;r<0&&(r=0),e.setState({currentTotalAssets:""}),e.setState({portfolio:e.state.portfolio.map((function(e){return e.id===t&&(e.quantity=+r),n+=e.currentPrice*e.quantity,e})),currentTotalAssets:+n.toFixed(2),newTotalAssets:(e.state.addedAssets+n).toFixed(2)})},e.handleTargetPercentageInput=function(t,a){var n=+a.target.value;n>100?n=100:n<0&&(n=0),e.setState({portfolio:e.state.portfolio.map((function(e){return e.id===t&&(e.targetPercentage=n),e}))})},e.handleAddedAssetsInput=function(t){var a=+t.target.value;a<0&&(a=0),console.log(e.state.currentTotalAssets),console.log(a),e.setState({addedAssets:a,newTotalAssets:+e.state.currentTotalAssets+a})},e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(S,{addStock:this.addStock}),r.a.createElement(y,{getQuantity:this.getQuantity,currentTotalAssets:this.state.currentTotalAssets,addedAssets:this.state.addedAssets,newTotalAssets:this.state.newTotalAssets,delStock:this.delStock,portfolio:this.state.portfolio,calculateMarketValue:this.calculateMarketValue,calculateTotalAssets:this.calculateTotalAssets,calculateCurrentPercentage:this.calculateCurrentPercentage,handleTargetPercentageInput:this.handleTargetPercentageInput,calculateTargetValue:this.calculateTargetValue,calculateSellOrPurchase:this.calculateSellOrPurchase,handleAddedAssetsInput:this.handleAddedAssetsInput}))}}]),a}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.e2d0d0aa.chunk.js.map